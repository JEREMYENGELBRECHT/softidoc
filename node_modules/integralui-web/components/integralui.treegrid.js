/*
  filename: integralui.treegrid.js
  version : 1.0.0
  Copyright Â© 2016-2017 Lidor Systems. All rights reserved.

  This file is part of the "IntegralUI Web" Library. 
                                                                   
  The contents of this file are subject to the IntegralUI Web License, and may not be used except in compliance with the License.
  A copy of the License should have been installed in the product's root installation directory or it can be found at
  http://www.lidorsystems.com/products/web/studio/license-agreement.aspx.
                                                            
  This SOFTWARE is provided "AS IS", WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License for the specific language 
  governing rights and limitations under the License. Any infringement will be prosecuted under applicable laws.                           
*/
var __extends=this&&this.__extends||function(k,b){function a(){this.constructor=k}for(var c in b)b.hasOwnProperty(c)&&(k[c]=b[c]);k.prototype=null===b?Object.create(b):(a.prototype=b.prototype,new a)},__decorate=this&&this.__decorate||function(k,b,a,c){var e=arguments.length,d=3>e?b:null===c?c=Object.getOwnPropertyDescriptor(b,a):c,f;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)d=Reflect.decorate(k,b,a,c);else for(var g=k.length-1;0<=g;g--)if(f=k[g])d=(3>e?f(d):3<e?f(b,a,d):
f(b,a))||d;return 3<e&&d&&Object.defineProperty(b,a,d),d},__metadata=this&&this.__metadata||function(k,b){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(k,b)},core_1=require("@angular/core"),integralui_core_1=require("./integralui.core"),integralui_base_grid_1=require("./integralui.base.grid"),integralui_common_service_1=require("../services/integralui.common.service"),integralui_data_service_1=require("../services/integralui.data.service"),integralui_dragdrop_service_1=
require("../services/integralui.dragdrop.service"),integralui_scrollbar_1=require("./integralui.scrollbar"),IntegralUITreeGrid=function(k){function b(a,c,b,d,f,g,h){k.call(this,a,c,b,d,f);this.dataService=a;this.dragDropService=c;this.elemRef=b;this.elemRenderer=d;this.commonService=f;this.cmpResolver=g;this.baseService=h;this.prevIndex=this.currentIndex=0;this.headerData=[];this.rowData=[];this.cellData=[];this.footerData=[];this.scrollColumnList=[];this.scrollRowList=[];this.fullList=[];this.expandColIndex=
0;this.horScrollOrientation=integralui_core_1.IntegralUIOrientation.Horizontal;this.isThereChildRows=!1;this.currentPageList=[];this.currentPageNumber=1;this.onlyCurrentPage=!1;this.pageNumber=0;this.pageList=[];this.blockMarginTop=this.avgRowHeight=this.pageRowCount=0;this.blockSize={width:0,height:0};this.columnPadding={top:0,right:0,bottom:0,left:0};this.visibleRange=1;this.isFooterVisible=this.isHeaderVisible=!0;this.templateList=[];this.gridCursor="default";this.isScrollActive=!1;this.prevScrollPos=
{x:0,y:0};this.scrollBarSize={width:0,height:0};this.currentScrollPos={x:0,y:0};this.scrollLargeChange={x:0,y:0};this.trialRef=null;this.afterCollapse=new core_1.EventEmitter;this.afterExpand=new core_1.EventEmitter;this.beforeCollapse=new core_1.EventEmitter;this.beforeExpand=new core_1.EventEmitter;this.columnStartPos={x:0,y:0};this.isColumnResizing=!1;this.resizeColumn=null;this.resizeColumnIndex=-1;this.scrollSize={width:0,height:0};this.footerHeight=this.headerHeight=0;this.clientRect={width:0,
height:0};this.allColWidth=this.contentLeftPos=0;this.viewIndexRange={left:0,right:999};this.accelerator=.5;this.scrollTimerID=null;this.isScrollTimerActive=!1;this.scrollCount=0}__extends(b,k);Object.defineProperty(b.prototype,"expandColumnIndex",{get:function(){return this.expandColIndex},set:function(a){this.expandColIndex!=a&&(this.expandColIndex=a,this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"showHeader",{get:function(){return this.isHeaderVisible},
set:function(a){this.isHeaderVisible!=a&&(this.isHeaderVisible=a,this.updateLayout())},enumerable:!0,configurable:!0});Object.defineProperty(b.prototype,"showFooter",{get:function(){return this.isFooterVisible},set:function(a){this.isFooterVisible!=a&&(this.isFooterVisible=a,this.updateLayout())},enumerable:!0,configurable:!0});b.prototype.ngOnInit=function(){this.baseService.setComponent(this);this.dataService.init([{data:this.columns,fields:this.options.columnFields,key:this.columnDataKey},{data:this.rows,
fields:this.options.rowFields,key:this.rowDataKey}]);this.generalClassName="iui-treegrid";this.columnClassName=this.generalClassName+"-column";this.columnHeaderClassName=this.columnClassName+"-header";this.columnBodyClassName=this.columnClassName+"-body";this.columnFooterClassName=this.columnClassName+"-footer";this.rowClassName=this.generalClassName+"-row";this.cellBorderClassName="iui-treegrid-lines-both";this.cellClassName=this.rowClassName+"-cell";this.expandBoxClassName=this.generalClassName+
"-expand-box";this.gridLinesClassName=this.generalClassName+"-lines";this.initStyle()};b.prototype.initStyle=function(){this.defaultStyle={general:{disabled:this.generalClassName+"-disabled",focused:this.generalClassName+"-focused",normal:this.generalClassName,hovered:this.generalClassName+"-hovered",selected:this.generalClassName+"-selected"},column:{header:{cell:this.columnHeaderClassName+"-cell",disabled:this.columnHeaderClassName+"-disabled",normal:this.columnHeaderClassName,hovered:this.columnHeaderClassName+
"-hovered",selected:this.columnHeaderClassName+"-selected"},body:{cell:this.columnBodyClassName+"-cell",disabled:this.columnBodyClassName+"-disabled",normal:this.columnBodyClassName,hovered:this.columnBodyClassName+"-hovered",selected:this.columnBodyClassName+"-selected"},footer:{cell:this.columnFooterClassName+"-cell",disabled:this.columnFooterClassName+"-disabled",normal:this.columnFooterClassName,hovered:this.columnFooterClassName+"-hovered",selected:this.columnFooterClassName+"-selected"}},row:{general:{disabled:this.rowClassName+
"-disabled",focused:this.rowClassName+"-focused",normal:this.rowClassName,hovered:this.rowClassName+"-hovered",selected:this.rowClassName+"-selected"},expandBox:{general:this.expandBoxClassName,load:this.expandBoxClassName+"-load",expanded:this.expandBoxClassName+"-open",collapsed:this.expandBoxClassName+"-close"},cell:{disabled:this.cellClassName+"-disabled",focused:this.cellClassName+"-focused",normal:this.cellClassName,hovered:this.cellClassName+"-hovered",selected:this.cellClassName+"-selected"}},
gridLines:{none:this.gridLinesClassName+"-none",horizontal:this.gridLinesClassName+"-horizontal",vertical:this.gridLinesClassName+"-vertical",both:this.gridLinesClassName+"-both"}};this.updateStyle(this.controlStyle);this.refresh()};b.prototype.ngAfterViewInit=function(){var a=this,c=setTimeout(function(){var b=a.cmpResolver.resolveComponentFactory(integralui_core_1.IntegralUITComponent);b&&a.contentRef&&(a.trialRef=a.contentRef.createComponent(b));clearTimeout(c)},100);a.updateLayout()};b.prototype.ngAfterContentInit=
function(){this.templateList=this.templates.toArray();for(var a=0;a<this.templateList.length;a++)if(this.templateList[a].settings)switch(this.templateList[a].settings.type){case "header":this.headerData.push(this.templateList[a].getTemplate());break;case "row":this.rowData.push(this.templateList[a].getTemplate());break;case "cell":this.cellData.push(this.templateList[a].getTemplate());break;case "footer":this.footerData.push(this.templateList[a].getTemplate())}};b.prototype.ngOnDestroy=function(){this.removeDropMark();
this.trialRef&&this.trialRef.destroy()};b.prototype.updateScrollColumnList=function(){this.scrollColumnList.length=0;for(var a=this.viewIndexRange.left;a<this.currentColumnList.length&&a<=this.viewIndexRange.right;a++){var c={data:this.currentColumnList[a],style:{}};this.updateColumnStyle(c);this.scrollColumnList.push(c)}};b.prototype.updateScrollRowList=function(){this.scrollRowList.length=0;for(var a=this.currentIndex;a<this.currentRowList.length&&a<this.currentIndex+this.visibleRange;a++){var c=
this.currentRowList[a],c={data:c.data,indent:c.indent,cells:[],style:{}};this.updateRowStyle(c);for(var b=c.data[this.options.rowFields.cells],d=this.viewIndexRange.left;d<this.currentColumnList.length&&d<=this.viewIndexRange.right;d++){var f=this.currentColumnList[d],g=d,h=f[this.options.columnFields.id];h&&(g=this.getCellIndexById(b,d,h));f={align:this.getCellAlignment(f),colIndex:d,data:0<=g&&g<b.length?b[g]:{},expandBoxAllowed:this.isExpandBoxAllowed(f),indent:this.getRowIndent(c,f),width:this.getCellWidth(c,
f),height:0<this.rowHeight?this.rowHeight+"px":"auto"};c.cells.push(f)}this.scrollRowList.push(c)}};b.prototype.addColumnToCurrentList=function(a){a.type="column";a[this.options.columnFields.id]||(a[this.options.columnFields.id]=this.commonService.getUniqueId());0!=a[this.options.columnFields.visible]&&this.currentColumnList.push(a)};b.prototype.updateCurrentColumnList=function(){this.currentColumnList.length=0;var a=this.dataService.getList(null,this.columnDataKey);if(a)for(var c=0;c<a.length;c++)this.addColumnToCurrentList(a[c])};
b.prototype.updateCurrentRowList=function(){this.currentRowList.length=0;if(this.options.paging.enabled){if(1<=this.currentPageNumber&&this.currentPageNumber<=this.pageList.length)for(var a=0;a<this.pageList[this.currentPageNumber-1].length;a++)this.currentRowList.push(this.pageList[this.currentPageNumber-1][a])}else{this.isThereChildRows=!1;var c=this.dataService.getList(null,this.rowDataKey);if(c)for(a=0;a<c.length;a++)this.addChildRows(c[a],0,null,!1)}};b.prototype.addChildRows=function(a,c,b,
d){if(!a[this.options.rowFields.rows])return b=this.addRowToCurrentList(a,c,b,d);if(b=this.addRowToCurrentList(a,c,b,d)){var e=0,g;if(d||this.isRowExpanded(a)){var h=a[this.options.rowFields.rows];if(h)for(var l=0;l<h.length;l++)(g=this.addChildRows(h[l],c+this.options.indent,a[this.options.rowFields.id],d))&&e++}d||this.isThereChildRows||!(0<e||!this.isRowExpanded(a)&&a[this.options.rowFields.rows]&&0<a[this.options.rowFields.rows].length&&this.isThereVisibleChildren(a))||(this.isThereChildRows=
!0)}return b};b.prototype.addRowToCurrentList=function(a,b,e,d){a.type||(a.type="row");a[this.options.rowFields.id]||(a[this.options.rowFields.id]=this.commonService.getUniqueId());e&&(a[this.options.rowFields.pid]=e);e=!0;var c=a[this.options.rowFields.cells];if(c&&0<c.length){e=this.isRowAllowed(a,d);for(var g,h=0;h<this.currentColumnList.length;h++){g=this.currentColumnList[h];g=g[this.options.columnFields.id];var l=h;g&&(l=this.getCellIndexById(c,h,g));0<=l&&l<c.length&&(c[l].type="cell",c[l][this.options.cellFields.rid]=
a[this.options.rowFields.id])}}e&&(d?this.fullList.push(a):this.options.paging.enabled?this.onlyCurrentPage?this.currentPageList.push({data:a,indent:b}):(a[this.options.rowFields.pid]||this.pageRowCount++,this.pageRowCount>this.options.paging.pageSize&&(this.pageRowCount=1,this.pageNumber++,this.pageList.push([])),this.pageList[this.pageNumber].push({data:a,indent:b})):this.currentRowList.push({data:a,indent:b}));return e};b.prototype.getFullList=function(){this.fullList.length=0;var a=this.dataService.getList(null,
this.rowDataKey);if(a)for(var b=0;b<a.length;b++)this.addChildRows(a[b],0,null,!0);return this.fullList};b.prototype.loadData=function(a,b,e,d){this.processLoadData(a,b,e,d)};b.prototype.rowDragStart=function(a,b){this.processDragStart(a,b.data);a.stopPropagation()};b.prototype.rowDragOver=function(a,b,e){if(this.rowElems){var c=this.rowElems.toArray();c&&0<=e&&e<c.length&&(e=this.commonService.getPageRect(c[e].nativeElement),e={x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top},this.processScroll(a),
this.processDragOver(a,b.data,e))}a.stopPropagation()};b.prototype.rowDragDrop=function(a,b){this.processDragDrop(a,b.data);a.stopPropagation()};b.prototype.isParentOf=function(a,b){var c=this.dataService.getParent(b);return a&&b&&c&&this.commonService.isEqual(a[this.options.rowFields.id],c[this.options.rowFields.id])?!0:!1};b.prototype.isChildOf=function(a,b){var c=!1;if(a&&b){var d=b[this.options.rowFields.rows];if(d&&0<d.length)for(var f=0;f<d.length;f++){if(this.commonService.isEqual(a[this.options.rowFields.id],
d[f][this.options.rowFields.id])){c=!0;break}else c=this.isChildOf(a,d[f]);if(c)break}}return c};b.prototype.collapse=function(a){this.toggle(a,!1)};b.prototype.expandBoxClicked=function(a,b){this.toggle(b);a.stopPropagation()};b.prototype.expand=function(a){this.toggle(a,!0)};b.prototype.toggle=function(a,b){if(a){if((a[this.options.rowFields.hasChildren]||a[this.options.rowFields.rows]&&0!=a[this.options.rowFields.rows].length)&&!(b&&0!=a[this.options.rowFields.expanded]||!1===b&&0==a[this.options.rowFields.expanded])){var c=
void 0!==b?b:!1!==a[this.options.rowFields.expanded]?!0:!1,d={cancel:!1,row:a};void 0!==b?b?this.beforeExpand.emit(d):this.beforeCollapse.emit(d):c?this.beforeCollapse.emit(d):this.beforeExpand.emit(d);1!=d.cancel&&(c=void 0!=b?b:!c,c!=a[this.options.rowFields.expanded]&&(a[this.options.rowFields.expanded]=c,this.updateCurrentLayout()),this.isRowExpanded(a)?this.afterExpand.emit({row:a}):this.afterCollapse.emit({row:a}))}}else{c=this.getFullList();for(d=0;d<c.length;d++)c[d][this.options.rowFields.expanded]=
b;this.updateCurrentLayout()}};b.prototype.getColumnCurrentIndex=function(a){return a?this.currentColumnList.indexOf(a):-1};b.prototype.getColumnRealIndex=function(a){var b=this.dataService.getList(null,this.columnDataKey);return 0<=a&&a<b.length&&a<this.currentColumnList.length?b.indexOf(this.currentColumnList[a]):-1};b.prototype.getCellIndexById=function(a,b,e){var c=-1;if(a){b=this.getColumnRealIndex(b);for(var f=0;f<a.length;f++)if(void 0==a[f][this.options.cellFields.cid]){c=b;break}else if(a[f][this.options.cellFields.cid]==
e){c=f;break}}return c};b.prototype.getColumnFromCell=function(a,b){var c=null;if(a[this.options.cellFields.cid])for(var d=0;d<this.currentColumnList.length;d++){if(this.currentColumnList[d][this.options.columnFields.id]==a[this.options.cellFields.cid]){c=this.currentColumnList[d];break}}else 0<=b&&b<this.currentColumnList.length&&(c=this.currentColumnList[b]);return c};b.prototype.getCellAlignment=function(a){return a?a[this.options.columnFields.contentAlignment]:""};b.prototype.getCellWidth=function(a,
b){var c=this.getColumnWidth(b);b&&this.currentColumnList.indexOf(b)==this.expandColIndex&&(c-=a.indent);return 0<c?c:0};b.prototype.getColumnAlignment=function(a,b){return a?b?a[this.options.columnFields.footerAlignment]:a[this.options.columnFields.headerAlignment]:""};b.prototype.getColumnWidth=function(a){return a&&void 0!=a[this.options.columnFields.width]?a[this.options.columnFields.width]:100};b.prototype.getRowIndent=function(a,b){var c=this.columnPadding.left;this.isExpandBoxAllowed(b)&&(c+=
a.indent);return c};b.prototype.isExpandBoxAllowed=function(a){return a?this.currentColumnList.indexOf(a)==this.expandColIndex:!1};b.prototype.isRowExpanded=function(a){return a?a[this.options.rowFields.expanded]||void 0===a[this.options.rowFields.expanded]?!0:!1:!0};b.prototype.isThereVisibleChildren=function(a){var b=!1;if(a&&(a=a[this.options.rowFields.rows])&&0<a.length)for(var e=0;e<a.length;e++)if(this.isRowAllowed(a[e])&&!this.isRowFixed(a[e])){b=!0;break}return b};b.prototype.columnMouseDown=
function(a,b){if(1==a.buttons)if(0<=this.resizeColumnIndex&&this.resizeColumnIndex<this.currentColumnList.length){var c=this.commonService.getShiftPos();this.columnStartPos={x:a.pageX-c.x,y:a.pageY-c.y};this.isColumnResizing=!0;this.resizeColumn=this.currentColumnList[this.resizeColumnIndex]}else this.processColumnSelection(a,b.data)};b.prototype.columnMouseUp=function(a,b){};b.prototype.isColumnWidthFixed=function(a){return 0<=a&&a<this.currentColumnList.length?1==this.currentColumnList[a][this.options.columnFields.fixedWidth]:
!1};b.prototype.columnMouseMove=function(a,b){if(this.isScrollActive)this.gridCursor="default";else if(this.resizeColumnIndex=-1,this.columnElems){var c=this.columnElems.toArray(),d=this.getColumnCurrentIndex(b.data),f=d-this.viewIndexRange.left;0<=f&&f<c.length&&(c=c[f].nativeElement,this.commonService.getShiftPos(),c=this.commonService.getPageRect(c),f={top:c.top,right:c.left+10,bottom:c.bottom,left:c.left},this.commonService.checkHit(a.pageX,a.pageY,{top:c.top,right:c.right,bottom:c.bottom,left:c.right-
10})?this.resizeColumnIndex=d:this.commonService.checkHit(a.pageX,a.pageY,f)&&(this.resizeColumnIndex=d-1),this.isColumnWidthFixed(this.resizeColumnIndex)&&(this.resizeColumnIndex=-1),this.gridCursor=0<=this.resizeColumnIndex||this.isColumnResizing?"ew-resize":"default")}else this.gridCursor="default"};b.prototype.columnMouseEnter=function(a,b){this.isScrollActive||this.isColumnResizing||(this.hoverColumn=b.data,this.updateColumnStyle(b))};b.prototype.columnMouseLeave=function(a,b){this.isScrollActive||
this.isColumnResizing||(this.hoverColumn=null,this.gridCursor=this.isColumnResizing?"ew-resize":"default",this.updateColumnStyle(b))};b.prototype.gridMouseLeave=function(a){this.hoverColumn=this.hoverRow=null};b.prototype.rowMouseEnter=function(a,b){this.isScrollActive||this.isColumnResizing||(this.hoverRow=b.data,this.updateRowStyle(b))};b.prototype.rowMouseLeave=function(a,b){this.isScrollActive||this.isColumnResizing||(this.hoverRow=null,this.updateRowStyle(b))};b.prototype.getFooterBottomPos=
function(){return this.isHorScrollVisible()?16:0};b.prototype.updateRange=function(){this.viewIndexRange={left:0,right:999};for(var a=!1,b=!1,e=this.currentScrollPos.x+this.clientRect.width,d=0,f=0;f<this.currentColumnList.length&&(d+=this.getColumnWidth(this.currentColumnList[f])+this.columnPadding.left+this.columnPadding.right+2,!a&&d>=this.currentScrollPos.x&&(this.viewIndexRange.left=f,a=!0),!b&&d>=e&&(this.viewIndexRange.right=f,b=!0),!a||!b);f++);for(f=d=0;f<this.currentColumnList.length&&f<
this.viewIndexRange.left;f++)d+=this.getColumnWidth(this.currentColumnList[f])+this.columnPadding.left+this.columnPadding.right+2;this.contentLeftPos=this.currentScrollPos.x-d;this.updateScrollColumnList();this.updateScrollRowList()};b.prototype.updateCurrentLayout=function(){this.updateCurrentRowList();this.updateRange();this.updateScrollSize();var a=this,b=setTimeout(function(){a.updateBlockSize();clearTimeout(b)},1)};b.prototype.updateBlockSize=function(){this.blockSize={width:this.bodyElem.nativeElement.offsetWidth,
height:this.bodyElem.nativeElement.offsetHeight}};b.prototype.updateLayout=function(){var a=this;this.updateCurrentColumnList();this.updateCurrentRowList();var b=setTimeout(function(){a.clientRect={width:a.elemRef.nativeElement.firstElementChild.clientWidth,height:a.elemRef.nativeElement.firstElementChild.clientHeight};a.updateRange();var c=setTimeout(function(){a.columnPadding={top:0,right:0,bottom:0,left:0};if(a.columnElems){var b=a.columnElems.toArray();b&&0<b.length&&(a.columnPadding=a.commonService.getPadding(b[0].nativeElement.firstElementChild))}a.headerHeight=
a.headerElem?a.headerElem.nativeElement.offsetHeight:0;a.footerHeight=a.footerElem?a.footerElem.nativeElement.offsetHeight:0;a.updateVisibleRange();a.updateRange();var e=setTimeout(function(){a.blockMarginTop=a.headerHeight;a.updateBlockSize();if(a.rowElems){var b=a.rowElems.toArray();a.avgRowHeight=0;if(b&&0<b.length){for(var c=0,d=0;d<b.length;d++)c+=b[d].nativeElement.offsetHeight;a.avgRowHeight=Math.floor(c/b.length)}}a.updateScrollSize();a.updateComplete.emit(null);clearTimeout(e)},1);clearTimeout(c)},
1);clearTimeout(b)},1)};b.prototype.updateVisibleRange=function(){this.visibleRange=1;var a=this.rowElems.toArray();if(a&&0<a.length){for(var b=0,e=0;e<a.length;e++)b+=a[e].nativeElement.offsetHeight;a=Math.floor(b/a.length);0<a&&(this.visibleRange=Math.floor((this.clientRect.height-(this.headerHeight+this.footerHeight))/a)+1)}};b.prototype.updateScrollSize=function(){for(var a=this.allColWidth=0;a<this.currentColumnList.length;a++)this.allColWidth+=this.getColumnWidth(this.currentColumnList[a])+
this.columnPadding.left+this.columnPadding.right+2;this.scrollSize={width:this.allColWidth-this.clientRect.width,height:this.avgRowHeight*this.currentRowList.length-this.clientRect.height+this.headerHeight+this.footerHeight+this.avgRowHeight};this.isVerScrollVisible()&&(this.scrollSize.width+=16);this.isHorScrollVisible()&&(this.scrollSize.height+=16);this.scrollSize.width=0<this.scrollSize.width?this.scrollSize.width:0;this.scrollSize.height=0<this.scrollSize.height?this.scrollSize.height:0;this.maxScrollPos=
{x:this.scrollSize.width,y:this.scrollSize.height};this.currentScrollPos.x>this.maxScrollPos.x&&this.changeHorizontalScrollPos(this.maxScrollPos.x);this.currentScrollPos.y>this.maxScrollPos.y&&this.changeVerticalScrollPos(this.maxScrollPos.y);this.scrollBarSize={width:this.isVerScrollVisible()?this.clientRect.width-20:this.clientRect.width-4,height:this.isHorScrollVisible()?this.clientRect.height-20:this.clientRect.height-4};this.scrollLargeChange={x:this.scrollBarSize.width,y:this.scrollBarSize.height-
this.headerHeight-this.footerHeight}};b.prototype.getRowScrollIndex=function(a){for(var b=-1,e=0;e<this.scrollRowList.length;e++)if(this.scrollRowList[e].data==a){b=e;break}return b};b.prototype.onWindowMouseMove=function(a){if(1==a.buttons&&this.isColumnResizing){var b=this.commonService.getShiftPos();a={x:a.pageX-b.x,y:a.pageY-b.y};this.resizeColumn&&(b=this.resizeColumn[this.options.columnFields.width]+a.x-this.columnStartPos.x,this.resizeColumn[this.options.columnFields.width]=0<b?b:0,this.updateCellWidth(this.resizeColumn),
this.updateScrollSize());this.columnStartPos=a}};b.prototype.onWindowMouseUp=function(a){this.isColumnResizing=!1;this.gridCursor="default";this.hoverColumn=this.hoverRow=null;this.refresh()};b.prototype.updateCellWidth=function(a){for(var b=0;b<this.scrollRowList.length;b++)for(var e=this.scrollRowList[b],d=this.getColumnCurrentIndex(a),f=0;f<e.cells.length;f++)if(e.cells[f].colIndex==d){d=this.getCellWidth(e,a);if(this.currentColumnList.indexOf(a)==this.expandColIndex){var g=this.getColumnWidth(a),
g=0<g?g:this.columnPadding.left;e.cells[f].indent=0==d?g:this.getRowIndent(e,a)}e.cells[f].width=d;break}};b.prototype.getRowParent=function(a){return a?this.dataService.findObjectById(a[this.options.rowFields.pid],this.rowDataKey):null};b.prototype.beginLoad=function(a){a&&(0>this.options.loadRows.indexOf(a)&&this.options.loadRows.push(a),this.refresh())};b.prototype.endLoad=function(a){a=this.options.loadRows.indexOf(a);0<=a&&this.options.loadRows.splice(a,1);this.updateCurrentLayout()};b.prototype.isRowLoading=
function(a){return 0<=this.options.loadRows.indexOf(a)?!0:!1};b.prototype.changeHorizontalScrollPos=function(a){this.currentScrollPos.x=Math.max(0,Math.min(a,this.maxScrollPos.x));this.currentScrollPos.x!=this.prevScrollPos.x&&(this.updateRange(),this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.x=this.currentScrollPos.x)};b.prototype.changeVerticalScrollPos=function(a){this.currentScrollPos.y=Math.max(0,Math.min(a,this.maxScrollPos.y));this.currentScrollPos.y!=this.prevScrollPos.y&&
(this.updateView(),this.scrollPosChanged.emit({value:this.scrollPos()}),this.prevScrollPos.y=this.currentScrollPos.y)};b.prototype.gridMouseWheel=function(a){a.preventDefault();this.hoverRow=null;var b=0;a.wheelDelta?b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail)):a.originalEvent&&(b=Math.max(-1,Math.min(1,a.originalEvent.wheelDelta||-a.originalEvent.detail)));this.isVerScrollVisible()&&this.changeVerticalScrollPos(this.currentScrollPos.y+Math.floor(this.clientRect.height/4)*b*-1);a.stopPropagation()};
b.prototype.isVerScrollVisible=function(){return 0<this.scrollSize.height?!0:!1};b.prototype.isHorScrollVisible=function(){return 0<this.scrollSize.width?!0:!1};b.prototype.onVerticalScrollStart=function(a){this.hoverRow=null;this.isScrollActive=!0};b.prototype.onVerticalScrollEnd=function(a){this.isScrollActive=!1};b.prototype.onVerticalScrollChanged=function(a){this.changeVerticalScrollPos(a.value)};b.prototype.onHorizontalScrollStart=function(a){this.hoverRow=null;this.isScrollActive=!0};b.prototype.onHorizontalScrollEnd=
function(a){this.isScrollActive=!1};b.prototype.onHorizontalScrollChanged=function(a){this.currentScrollPos.x=a.value;this.scrollPosChanged.emit({value:this.scrollPos()});this.updateRange()};b.prototype.updateView=function(){this.currentIndex=0<this.avgRowHeight?Math.floor(this.currentScrollPos.y/this.avgRowHeight):0;this.currentIndex!=this.prevIndex&&(this.updateScrollRowList(),this.prevIndex=this.currentIndex)};b.prototype.processScroll=function(a){if(this.isVerScrollVisible()){var b=this.commonService.getShiftPos();
a=this.commonService.getMousePos(a);a.x-=b.x;a.y-=b.y;var e=this.commonService.getPageRect(this.elemRef.nativeElement),b=e.top+this.headerHeight+25,e=e.bottom-this.footerHeight-25;this.isHorScrollVisible()&&(e-=16);a.y<b?this.startScrollTimer(!1):a.y>e?this.startScrollTimer(!0):this.stopScrollTimer()}else this.stopScrollTimer()};b.prototype.startScrollTimer=function(a,b){var c=this;c.isScrollTimerActive||(c.accelerator=.5,c.scrollCount=0,c.isScrollTimerActive=!0,c.scrollTimerID=setInterval(function(){c.scrollTimerElapsed(a)},
b?b:100))};b.prototype.stopScrollTimer=function(){this.scrollTimerID&&(clearInterval(this.scrollTimerID),this.scrollTimerID=null);this.accelerator=.5;this.scrollCount=0;this.isScrollTimerActive=!1};b.prototype.scrollTimerElapsed=function(a){var b=this.currentScrollPos;0===this.scrollCount&&(this.scrollCount=5);this.scrollCount+=5;this.accelerator+=.5;var e=this.scrollCount+=Math.floor(this.accelerator);this.currentScrollPos.y=a?this.currentScrollPos.y+e:this.currentScrollPos.y-e;(0>=b.y||this.currentScrollPos.y<
b.y)&&this.stopScrollTimer()};b.prototype.rowMouseDown=function(a,b){1==a.buttons&&this.processRowSelection(a,b.data);a.stopPropagation()};b.prototype.rowMouseUp=function(a,b){this.updateRowSelection(a,b.data)};b.prototype.rowClickEvent=function(a,b){1==a.which&&this.rowClick.emit({row:b.data});a.stopPropagation()};b.prototype.rowDblClickEvent=function(a,b){var c={cancel:!1,row:b.data};this.rowDblClick.emit(c);1!=c.cancel&&this.toggle(b.data);a.stopPropagation()};b.prototype.updateColumnStyle=function(a){a&&
(a.style={header:[],footer:[]},a.style.header.push(this.columnHeaderClassName),a.style.header.push(this.options.currentStyle.column.header.normal),a.data==this.selectedColumn?a.style.header.push(this.options.currentStyle.column.header.selected):a.data==this.hoverColumn&&a.style.header.push(this.options.currentStyle.column.header.hovered),a.style.footer.push(this.columnFooterClassName),a.style.footer.push(this.options.currentStyle.column.footer.normal),a.data==this.selectedColumn?a.style.footer.push(this.options.currentStyle.column.footer.selected):
a.data==this.hoverColumn&&a.style.footer.push(this.options.currentStyle.column.footer.hovered))};b.prototype.updateRowStyle=function(a){if(a){a.style={row:[],expandBox:[],cell:[]};a.style.row.push(this.rowClassName);a.style.row.push(this.options.currentStyle.row.general.normal);a.style.cell.push(this.cellClassName);a.style.cell.push(this.options.currentStyle.row.cell.normal);this.isRowEnabled(a.data)?this.isRowSelected(a.data)?(a.style.row.push(this.options.currentStyle.row.general.selected),a.style.cell.push(this.options.currentStyle.row.cell.selected)):
this.isRowHovered(a.data)&&(a.style.row.push(this.options.currentStyle.row.general.hovered),a.style.cell.push(this.options.currentStyle.row.cell.hovered)):(a.style.row.push(this.options.currentStyle.row.general.disabled),a.style.cell.push(this.options.currentStyle.row.cell.disabled));switch(this.gridLines){case integralui_base_grid_1.IntegralUIGridLines.None:a.style.cell.push(this.options.currentStyle.gridLines.none);break;case integralui_base_grid_1.IntegralUIGridLines.Horizontal:a.style.cell.push(this.options.currentStyle.gridLines.horizontal);
break;case integralui_base_grid_1.IntegralUIGridLines.Vertical:a.style.cell.push(this.options.currentStyle.gridLines.vertical);break;default:a.style.cell.push(this.options.currentStyle.gridLines.both)}(this.isThereChildRows||a.data[this.options.rowFields.hasChildren])&&a.style.expandBox.push(this.options.currentStyle.row.expandBox.general);if(a.data[this.options.rowFields.hasChildren]&&(this.isThereVisibleChildren(a.data)||!a.data[this.options.rowFields.rows]||a.data[this.options.rowFields.rows]&&
0==a.data[this.options.rowFields.rows].length)||this.isThereVisibleChildren(a.data))this.isRowLoading(a.data)?a.style.expandBox.push(this.options.currentStyle.row.expandBox.load):!1!==a.data[this.options.rowFields.expanded]?a.style.expandBox.push(this.options.currentStyle.row.expandBox.collapsed):a.style.expandBox.push(this.options.currentStyle.row.expandBox.expanded)}};b.prototype.getColumnStyle=function(a){return a?{header:this.getColumnHeaderStyle(a.header),body:this.getColumnBodyStyle(a.body),
footer:this.getColumnFooterStyle(a.footer)}:this.getDefaultColumnStyle()};b.prototype.getColumnHeaderStyle=function(a){return this.commonService.isString(a)?a:a?{cell:this.commonService.isFieldAvailable(a.cell,this.columnHeaderClassName+"-cell"),disabled:this.commonService.isFieldAvailable(a.disabled,this.columnHeaderClassName+"-disabled"),normal:this.commonService.isFieldAvailable(a.normal,this.columnHeaderClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.columnHeaderClassName+
"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.columnHeaderClassName+"-selected")}:this.getDefaultColumnHeaderStyle()};b.prototype.getColumnBodyStyle=function(a){return this.commonService.isString(a)?a:a?{cell:this.commonService.isFieldAvailable(a.cell,this.columnBodyClassName+"-cell"),disabled:this.commonService.isFieldAvailable(a.disabled,this.columnBodyClassName+"-disabled"),normal:this.commonService.isFieldAvailable(a.normal,this.columnBodyClassName),hovered:this.commonService.isFieldAvailable(a.hovered,
this.columnBodyClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.columnBodyClassName+"-selected")}:this.getDefaultColumnBodyStyle()};b.prototype.getColumnFooterStyle=function(a){return this.commonService.isString(a)?a:a?{cell:this.commonService.isFieldAvailable(a.cell,this.columnFooterClassName+"-cell"),disabled:this.commonService.isFieldAvailable(a.disabled,this.columnFooterClassName+"-disabled"),normal:this.commonService.isFieldAvailable(a.normal,this.columnFooterClassName),
hovered:this.commonService.isFieldAvailable(a.hovered,this.columnFooterClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.columnFooterClassName+"-selected")}:this.getDefaultColumnFooterStyle()};b.prototype.getRowStyle=function(a){return a?{general:this.getRowGeneralStyle(a.general),expandBox:this.getRowExpandBoxStyle(a.expandBox),cell:this.getRowCellStyle(a.cell)}:this.getDefaultRowStyle()};b.prototype.getRowGeneralStyle=function(a){return this.commonService.isString(a)?
a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,this.rowClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.rowClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.rowClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.rowClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.rowClassName+"-selected")}:this.getDefaultRowGeneralStyle()};b.prototype.getRowExpandBoxStyle=function(a){return this.commonService.isString(a)?
a:a?{general:this.commonService.isFieldAvailable(a.disabled,this.expandBoxClassName),load:this.commonService.isFieldAvailable(a.focused,this.expandBoxClassName+"-load"),expanded:this.commonService.isFieldAvailable(a.normal,this.expandBoxClassName+"-open"),collapsed:this.commonService.isFieldAvailable(a.hovered,this.expandBoxClassName+"-close")}:this.getDefaultRowExpandBoxStyle()};b.prototype.getRowCellStyle=function(a){return this.commonService.isString(a)?a:a?{disabled:this.commonService.isFieldAvailable(a.disabled,
this.cellClassName+"-disabled"),focused:this.commonService.isFieldAvailable(a.focused,this.cellClassName+"-focused"),normal:this.commonService.isFieldAvailable(a.normal,this.cellClassName),hovered:this.commonService.isFieldAvailable(a.hovered,this.cellClassName+"-hovered"),selected:this.commonService.isFieldAvailable(a.selected,this.cellClassName+"-selected")}:this.getDefaultRowCellStyle()};b.prototype.getGridLinesStyle=function(a){return a?{none:this.commonService.isFieldAvailable(a.none,this.gridLinesClassName+
"-none"),horizontal:this.commonService.isFieldAvailable(a.horizontal,this.gridLinesClassName+"-horizontal"),vertical:this.commonService.isFieldAvailable(a.vertical,this.gridLinesClassName+"-vertical"),both:this.commonService.isFieldAvailable(a.both,this.gridLinesClassName+"-both")}:this.getDefaultGridLinesStyle()};b.prototype.getDefaultGridStyle=function(){return{general:this.getDefaultGeneralStyle(),column:this.getDefaultColumnStyle(),row:this.getDefaultRowStyle(),gridLines:this.getDefaultGridLinesStyle()}};
b.prototype.getDefaultColumnStyle=function(){return{header:this.getDefaultColumnHeaderStyle(),body:this.getDefaultColumnBodyStyle(),footer:this.getDefaultColumnFooterStyle()}};b.prototype.getDefaultColumnHeaderStyle=function(){return{cell:this.defaultStyle.column.header.cell,disabled:this.defaultStyle.column.header.disabled,normal:this.defaultStyle.column.header.normal,hovered:this.defaultStyle.column.header.hovered,selected:this.defaultStyle.column.header.selected}};b.prototype.getDefaultColumnBodyStyle=
function(){return{cell:this.defaultStyle.column.body.cell,disabled:this.defaultStyle.column.body.disabled,normal:this.defaultStyle.column.body.normal,hovered:this.defaultStyle.column.body.hovered,selected:this.defaultStyle.column.body.selected}};b.prototype.getDefaultColumnFooterStyle=function(){return{cell:this.defaultStyle.column.footer.cell,disabled:this.defaultStyle.column.footer.disabled,normal:this.defaultStyle.column.footer.normal,hovered:this.defaultStyle.column.footer.hovered,selected:this.defaultStyle.column.footer.selected}};
b.prototype.getDefaultRowStyle=function(){return{general:this.getDefaultRowGeneralStyle(),expandBox:this.getDefaultRowExpandBoxStyle(),cell:this.getDefaultRowCellStyle()}};b.prototype.getDefaultRowGeneralStyle=function(){return{disabled:this.defaultStyle.row.general.disabled,focused:this.defaultStyle.row.general.focused,normal:this.defaultStyle.row.general.normal,hovered:this.defaultStyle.row.general.hovered,selected:this.defaultStyle.row.general.selected}};b.prototype.getDefaultRowExpandBoxStyle=
function(){return{general:this.defaultStyle.row.expandBox.general,load:this.defaultStyle.row.expandBox.load,expanded:this.defaultStyle.row.expandBox.expanded,collapsed:this.defaultStyle.row.expandBox.collapsed}};b.prototype.getDefaultRowCellStyle=function(){return{disabled:this.defaultStyle.row.cell.disabled,focused:this.defaultStyle.row.cell.focused,normal:this.defaultStyle.row.cell.normal,hovered:this.defaultStyle.row.cell.hovered,selected:this.defaultStyle.row.cell.selected}};b.prototype.getDefaultGridLinesStyle=
function(){return{none:this.defaultStyle.gridLines.none,horizontal:this.defaultStyle.gridLines.horizontal,vertical:this.defaultStyle.gridLines.vertical,both:this.defaultStyle.gridLines.both}};b.prototype.updateStyle=function(a){this.options.currentStyle=a?{general:this.getGeneralStyle(a.general),column:this.getColumnStyle(a.column),row:this.getRowStyle(a.row),gridLines:this.getGridLinesStyle(a.gridLines)}:this.getDefaultGridStyle()};b.prototype.refresh=function(a){this.updateControlClass();for(a=
0;a<this.scrollColumnList.length;a++)this.updateColumnStyle(this.scrollColumnList[a]);for(a=0;a<this.scrollRowList.length;a++)this.updateRowStyle(this.scrollRowList[a])};__decorate([core_1.ContentChildren(integralui_core_1.IntegralUITemplate),__metadata("design:type",core_1.QueryList)],b.prototype,"templates",void 0);__decorate([core_1.ViewChildren("columnElem",{read:core_1.ElementRef}),__metadata("design:type",core_1.QueryList)],b.prototype,"columnElems",void 0);__decorate([core_1.ViewChildren("rowElem",
{read:core_1.ElementRef}),__metadata("design:type",core_1.QueryList)],b.prototype,"rowElems",void 0);__decorate([core_1.ViewChild("header",{read:core_1.ElementRef}),__metadata("design:type",core_1.ElementRef)],b.prototype,"headerElem",void 0);__decorate([core_1.ViewChild("footer",{read:core_1.ElementRef}),__metadata("design:type",core_1.ElementRef)],b.prototype,"footerElem",void 0);__decorate([core_1.ViewChild("body",{read:core_1.ElementRef}),__metadata("design:type",core_1.ElementRef)],b.prototype,
"bodyElem",void 0);__decorate([core_1.ViewChild("verScroll"),__metadata("design:type",integralui_scrollbar_1.IntegralUIScrollBar)],b.prototype,"verScrollCmp",void 0);__decorate([core_1.ViewChild("horScroll"),__metadata("design:type",integralui_scrollbar_1.IntegralUIScrollBar)],b.prototype,"horScrollCmp",void 0);__decorate([core_1.ViewChild("contentBlock",{read:core_1.ViewContainerRef}),__metadata("design:type",core_1.ViewContainerRef)],b.prototype,"contentRef",void 0);__decorate([core_1.Input(),__metadata("design:type",
Number),__metadata("design:paramtypes",[Number])],b.prototype,"expandColumnIndex",null);__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],b.prototype,"showHeader",null);__decorate([core_1.Input(),__metadata("design:type",Boolean),__metadata("design:paramtypes",[Boolean])],b.prototype,"showFooter",null);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"afterCollapse",void 0);__decorate([core_1.Output(),__metadata("design:type",
core_1.EventEmitter)],b.prototype,"afterExpand",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"beforeCollapse",void 0);__decorate([core_1.Output(),__metadata("design:type",core_1.EventEmitter)],b.prototype,"beforeExpand",void 0);__decorate([core_1.HostListener("document:mousemove",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],b.prototype,"onWindowMouseMove",null);__decorate([core_1.HostListener("document:mouseup",
["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[Object]),__metadata("design:returntype",void 0)],b.prototype,"onWindowMouseUp",null);return b=__decorate([core_1.Component({selector:"iui-treegrid",template:'\n\t\t<div [ngClass]="getControlClass()" (mousewheel)="gridMouseWheel($event)" (mouseleave)="gridMouseLeave($event)" [ngStyle]="{ cursor: gridCursor }" (dragleave)="ctrlDragLeave($event)" (dragover)="ctrlDragOver($event)" (drop)="ctrlDragDrop($event)">\n\t\t\t<div *ngIf="showHeader" class="iui-treegrid-block iui-treegrid-block-top" [ngStyle]="{ left: -contentLeftPos + \'px\' }" #header>\n\t\t\t\t<table cellpadding="0" cellspacing="0">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td [ngClass]="column.style.header" *ngFor="let column of scrollColumnList" (mousemove)="columnMouseMove($event, column)" (mousedown)="columnMouseDown($event, column)" (mouseup)="columnMouseUp($event, column)" (mouseenter)="columnMouseEnter($event, column)" (mouseleave)="columnMouseLeave($event, column)" #columnElem>\n\t\t\t\t\t\t\t<div [ngStyle]="{ \'text-align\': getColumnAlignment(column.data), width: getColumnWidth(column.data) + \'px\' }">\n\t\t\t\t\t\t\t\t<template ngFor [ngForOf]="[column.data]" [ngForTemplate]="headerData[0]"></template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div class="iui-treegrid-block" [ngStyle]="{ \'margin-top\': blockMarginTop + \'px\', height: blockSize.height + \'px\' }" #contentBlock>\n\t\t\t\t<table cellpadding="0" cellspacing="0" style="position:absolute;" [ngStyle]="{ left: -contentLeftPos + \'px\' }" #body>\n\t\t\t\t\t<tr [ngClass]="row.style.row" *ngFor="let row of scrollRowList; let i = index" (mouseenter)="rowMouseEnter($event, row)" (mouseleave)="rowMouseLeave($event, row)" (mousedown)="rowMouseDown($event, row)" (mouseup)="rowMouseUp($event, row)" draggable="true" (dragstart)="rowDragStart($event, row)" (dragover)="rowDragOver($event, row, i)" (drop)="rowDragDrop($event, row)" (click)="rowClickEvent($event, row)" (dblclick)="rowDblClickEvent($event, row)" #rowElem>\n\t\t\t\t\t\t<td [ngClass]="row.style.cell" *ngFor="let cell of row.cells; let j = index">\n\t\t\t\t\t\t\t<div [ngStyle]="{ \'padding-left\': cell.indent + \'px\', \'text-align\': cell.align, width: cell.width + \'px\', height: cell.height }">\n\t\t\t\t\t\t\t\t<span *ngIf="cell.expandBoxAllowed" [ngClass]="row.style.expandBox" (mousedown)="expandBoxClicked($event, row.data)"></span>\n\t\t\t\t\t\t\t\t<template ngFor [ngForOf]="[cell.data]" [ngForTemplate]="cellData[0]"></template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n\t\t\t<div *ngIf="showFooter" class="iui-treegrid-block iui-treegrid-block-bottom" [ngStyle]="{ left: -contentLeftPos + \'px\', bottom: getFooterBottomPos() + \'px\' }" #footer>\n\t\t\t\t<table cellpadding="0" cellspacing="0">\n\t\t\t\t\t<tr>\n\t\t\t\t\t\t<td [ngClass]="column.style.footer" *ngFor="let column of scrollColumnList">\n\t\t\t\t\t\t\t<div [ngStyle]="{ width: getColumnWidth(column.data) + \'px\' }">\n\t\t\t\t\t\t\t\t<template ngFor [ngForOf]="[column.data]" [ngForTemplate]="footerData[0]"></template>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</td> \n\t\t\t\t\t</tr>\n\t\t\t\t</table>\n\t\t\t</div>\n            <iui-scrollbar *ngIf="isVerScrollVisible()" [value]="currentScrollPos.y" [max]="maxScrollPos.y" [largeChange]="scrollLargeChange.y" [height]="scrollBarSize.height" (valueChanged)="onVerticalScrollChanged($event)" (scrollStart)="onVerticalScrollStart($event)" (scrollEnd)="onVerticalScrollEnd($event)" #verScroll></iui-scrollbar>\n            <iui-scrollbar *ngIf="isHorScrollVisible()" [orientation]="horScrollOrientation" [value]="currentScrollPos.x" [max]="maxScrollPos.x" [width]="scrollBarSize.width" (valueChanged)="onHorizontalScrollChanged($event)" (scrollStart)="onHorizontalScrollStart($event)" (scrollEnd)="onHorizontalScrollEnd($event)" #horScroll></iui-scrollbar>\n            <div *ngIf="isVerScrollVisible() && isHorScrollVisible()" style="background:#f5f5f5;position:absolute;right:0;bottom:0;width:16px;height:16px;"></div>\n\t\t</div>\n\t',
inputs:"allowDrag allowDrop appRef columns controlStyle data dataFields gridLines rowHeight rows paging selectedColumn selectedRow selectionMode state".split(" "),outputs:"afterSelect beforeSelect columnAdding columnAdded columnRemoving columnRemoved columnsCleared dragDrop dragOver loadComplete rowAdding rowAdded rowClick rowDblClick rowRemoving rowRemoved rowsCleared scrollPosChanged selectionChanged updateComplete".split(" "),providers:[integralui_core_1.IntegralUIBaseService,integralui_data_service_1.IntegralUIDataService],
encapsulation:core_1.ViewEncapsulation.None}),__metadata("design:paramtypes",[integralui_data_service_1.IntegralUIDataService,integralui_dragdrop_service_1.IntegralUIDragDropService,core_1.ElementRef,core_1.Renderer,integralui_common_service_1.IntegralUICommonService,core_1.ComponentFactoryResolver,integralui_core_1.IntegralUIBaseService])],b)}(integralui_base_grid_1.IntegralUIBaseGrid);exports.IntegralUITreeGrid=IntegralUITreeGrid;